<!-- #include file="../../../system/lib/form.inc"  --><html xmlns="http://www.w3.org/1999/xhtml"><head>    <title>Copy Callaway To Handicap</title></head><%  ESysLib.SetUser("crm")%><script>var TourNament_pk = "<%=Request.querystring("p_tournament_pk")%>";function BodyInit(){      var data = "<%=ESysLib.SetListDataSQL("SELECT CODE, NAME FROM COMM.TCO_COMMCODE WHERE DEL_IF = 0 AND PARENT_CODE = 'TNMFMT'" ) %>";		lstRankTypeFrm.SetDataText(data);	lstRankTypeFrm.value = "";	var data = "<%=ESysLib.SetListDataSQL("SELECT CODE, NAME FROM COMM.TCO_COMMCODE WHERE DEL_IF = 0 AND PARENT_CODE = 'TNMFMT'" ) %>";		lstRankTypeTo.SetDataText(data);	lstRankTypeTo.value = "";		dsoTournamentListFrom.Call("SELECT");	}function CheckDataIsValid(){	if(lstTourNamentFrom.value == ""){		alert("Please select the from tournament.");		lstTourNamentFrom.GetControl().focus();		return false;	}	if(lstTourNamentTo.value == ""){		alert("Please select the destination tournament.");		lstTourNamentTo.GetControl().focus();		return false;	}		if(lstRankTypeFrm.value == ""){		alert("Please select the from rank type.");		lstRankTypeFrm.GetControl().focus();		return false;	}	if(lstRankTypeTo.value == ""){		alert("Please select the destination rank type.");		lstRankTypeTo.GetControl().focus();		return false;	}	if(lstRankTypeFrm.value == lstRankTypeTo.value && lstTourNamentFrom.value == lstTourNamentTo.value){		alert("From tournament, Destination tournament, from rank type and to rank type can not be the same.");		return false;	}	return true;}function OnCopy(){    if(CheckDataIsValid()){		    if(confirm('Are you sure to copy data ?'))        {			txtProcessBar.text="Please wait.........";			dso_jabk00060_copy_score.Call();		}    }		}function OnDataReceive(obj){	if(obj.id=='dso_jabk00060_copy_score')	{		alert(txt_rt_msg.text);		txtProcessBar.text="Copy score was sucessful.";	}	else if(obj.id == "dsoTournamentListFrom")	{		lstTourNamentFrom.value= TourNament_pk;		dsoTournamentListTo.Call("SELECT");	}		else if(obj.id == "dsoTournamentListTo")	{		lstTourNamentTo.value= "";	}}function OnClose(){	window.close();}</script><body>	<gw:data id="dso_jabk00060_copy_score" onreceive="OnDataReceive(this)"> 	<xml> 		<dso  type="process" procedure="CRM.sp_jabk00060_copy_score" > 			<input>				 <input bind="lstTourNamentFrom" /> 				 <input bind="lstTourNamentTo" /> 				 <input bind="lstRankTypeFrm" /> 				 <input bind="lstRankTypeTo" /> 			</input> 			<output> 				<output bind="txt_rt_msg"/>			</output>		</dso> 	</xml> </gw:data><gw:data id="dsoTournamentListFrom" onreceive="OnDataReceive(this)"> 		<xml> 			<dso type="list" procedure="crm.sp_sel_jabk00060_list" > 				<input>					 <input bind="dtDate" /> 				</input> 				<output> 					<output bind="lstTourNamentFrom"/>				</output>			</dso> 		</xml> 	</gw:data>	<gw:data id="dsoTournamentListTo" onreceive="OnDataReceive(this)"> 		<xml> 			<dso type="list" procedure="crm.sp_sel_jabk00060_list" > 				<input>					 <input bind="dtDate" /> 				</input> 				<output> 					<output bind="lstTourNamentTo"/>				</output>			</dso> 		</xml> 	</gw:data>	    <!----------------------------------------------------------------------------------------------->    <table style="width: 100%; height: 100%" cellpadding="0" cellspacing="0" border="0">        <tr style="width: 100%; height: 5%">            <td width="100%">                <table width="100%" cellpadding="0" cellspacing="0" border="0">                    <tr>                        <td>                            <table border="0" width="100%" id="table1">                                <tr>                                    <td>                                        <fieldset style="padding: 2; width: 100%; height: 100%">                                            <table border="0" width="100%" id="table2">												<tr >													<td>														<table  border="0" width="100%" height= 100%">															 <td width="5%">																From: </td>															<td width="45%">																<gw:list id="lstTourNamentFrom" styles="background-color:#fffaaf" />															</td>															<td width="5%">																To:</td>															<td width="45%">																<gw:list id="lstTourNamentTo" styles="background-color:#fffaaf" />															</td>														</table>													</td>												</tr>                                                <tr>													<td>														<table table  border="0" width="100%" height= 100%">															<td width="15%">																From Rank Type</td>															<td width="35%">																<gw:list id="lstRankTypeFrm" styles="background-color:#fffaaf" />															</td>															<td width="15%">																To Rank Type</td>															<td width="35%">																<gw:list id="lstRankTypeTo" styles="background-color:#fffaaf" />															</td>																													</table>													</td>                                                                                                    </tr>												<tr>													<td>														<table table  border="0" width="100%" height= 100%">															<td width="50%">																<gw:label id="txtProcessBar" styles='width:100%;color:cc0000;font:9pt' />															</td>															<td></td>															<td width="10%" style="border: 0">																<gw:icon id="ibtnCopy" alt="Copy" text="Copy" img="in" styles="width:100%"																onclick="OnCopy()" />															</td>															<td width="10%" style="border: 0">																<gw:icon id="ibtnClose" alt="Close" text="Close" img="in" styles="width:100%"																onclick="OnClose()" />															</td>															<td width="30%">															</td>														</table>													</td>												</tr>										                                            </table>                                        </fieldset>                                    </td>                                </tr>                            </table>                        </td>                    </tr>                </table>            </td>        </tr>        <tr style="width: 100%; height: 95%">        </tr>    </table>    <gw:textbox id="txt_rt_msg" style="display: none" />	<gw:datebox id="dtDate" style="display: none" /></body></html>